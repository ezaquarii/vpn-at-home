(function(e){function t(t){for(var n,r,o=t[0],l=t[1],c=t[2],d=0,m=[];d<o.length;d++)r=o[d],s[r]&&m.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(m.length)m.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},s={1:0},a=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;a.push([14,0]),i()})({"/SkM":function(e,t,i){"use strict";var n=i("TdZP"),s=i.n(n);s.a},"0uVG":function(e,t,i){},14:function(e,t,i){e.exports=i("Vtdi")},"39RD":function(e,t,i){"use strict";var n=i("C284"),s=i.n(n);s.a},C284:function(e,t,i){},D33K:function(e,t,i){"use strict";var n=i("lFxP"),s=i.n(n);s.a},Daqr:function(e,t,i){"use strict";var n=i("dmFB"),s=i.n(n);s.a},KT1w:function(e,t,i){},PACW:function(e,t,i){"use strict";var n=i("Yzlg"),s=i.n(n);s.a},PJ70:function(e,t,i){"use strict";var n=i("0uVG"),s=i.n(n);s.a},QK06:function(e,t,i){"use strict";var n=i("YoRC"),s=i.n(n);s.a},RnhZ:function(e,t,i){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function s(e){var t=a(e);return i(t)}function a(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="RnhZ"},TcDU:function(e,t,i){"use strict";var n=i("uYVI"),s=i.n(n);s.a},TdZP:function(e,t,i){},Vtdi:function(e,t,i){"use strict";i.r(t);i("yt8O"),i("VRzm"),i("EVdn"),i("yGwI"),i("h+6X");var n,s,a,r,o,l,c,u,d,m,v,p,f,g,h,b,C=i("Kw5r"),j=i("Hc5T"),y=i.n(j),w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[e.$route.meta.noNavbar?e._e():i("NavigationBar",{on:{addClient:e.onClickedAddClient,addServer:e.onClickedAddServer}}),i("div",{staticClass:"ui container"},[i("router-view")],1)],1)},k=[],O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"ui top fixed menu"},[i("div",{staticClass:"ui container"},[i("router-link",{staticClass:"item",attrs:{"active-class":"active",to:"/",exact:""}},[e._v("Home")]),e.isSuperuser?i("router-link",{staticClass:"item",attrs:{"active-class":"active",to:"/settings",exact:""}},[e._v("Settings")]):e._e(),e.isSuperuser?i("a",{staticClass:"item",attrs:{href:"/admin/"}},[e._v("Admin")]):e._e(),i("div",{staticClass:"right menu"},[e.canAddClient?i("div",{staticClass:"ui item"},[i("div",{staticClass:"ui primary button compact add-button",on:{click:e.onClickedAddClient}},[e._v("Add client")])]):e._e(),e.canAddServer?i("div",{staticClass:"ui item"},[i("div",{staticClass:"ui primary button compact",on:{click:e.onClickedAddServer}},[e._v("Add server")])]):e._e(),i("div",{staticClass:"ui item"},[i("span",{class:{superuser:e.isSuperuser}},[i("b",[e._v(e._s(e.email))])])]),i("div",{staticClass:"ui item no-padding-right"},[i("div",{staticClass:"ui primary button compact negative",on:{click:e.onClickedLogout}},[e._v("Logout")])])])],1)])},$=[],S=(i("f3/d"),i("xmWZ")),E=i("3Aqn"),x=i("qpph"),N=i("0yhX"),P=i("EdlT"),D=i("YKMj"),A=i("jE9Z"),R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[e.isSuperuser?i("ConfigList",{attrs:{title:"OpenVPN Servers",items:e.servers,emailEnabled:e.emailEnabled}}):e._e(),i("ConfigList",{attrs:{title:"OpenVPN Clients",items:e.clients,emailEnabled:e.emailEnabled}}),i("NewServerDialog",{ref:"newServerDialog"}),i("NewClientDialog",{ref:"newClientDialog"})],1)])},V=[],z=i("EINm"),q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"config-table"},[i("table",{staticClass:"ui celled striped table"},[i("col",{attrs:{width:"25%"}}),i("col",{attrs:{width:"20%"}}),i("col",{attrs:{width:"20%"}}),i("col",{attrs:{width:"25%"}}),i("col",{attrs:{width:"5%"}}),e.emailEnabled?i("col",{attrs:{width:"5%"}}):e._e(),i("thead",[i("tr",[i("th",[e._v(e._s(e.title))]),i("th",[e._v("Created")]),i("th",[e._v("Expires")]),i("th",[e._v("E-Mail")]),e._m(0),e.emailEnabled?i("th",{staticClass:"center"},[i("i",{staticClass:"icon mail",attrs:{"aria-hidden":"true"}})]):e._e()])]),i("tbody",e._l(e.items,function(t){return i("ConfigListItem",{attrs:{item:t,emailEnabled:e.emailEnabled}})}))])])},U=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("th",{staticClass:"center"},[i("i",{staticClass:"icon download",attrs:{"aria-hidden":"true"}})])}],T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v(e._s(e.item.name))]),i("td",[e._v(e._s(e.relativeCreated))]),i("td",[e._v(e._s(e.relativeValid))]),i("td",[e._v(e._s(e.item.email))]),i("td",{staticClass:"center"},[i("span",[i("a",{attrs:{href:e.item.download_url}},[i("i",{staticClass:"icon download",attrs:{"aria-hidden":"true"}})])])]),e.emailEnabled?i("td",{staticClass:"center"},[e.canSendEmail?i("span",[e.isSending?e._e():i("a",{attrs:{href:e.item.download_url},on:{click:function(t){return t.preventDefault(),e.sendMail(t)}}},[i("i",{staticClass:"icon mail",attrs:{"aria-hidden":"true"}})]),e.isSending?i("div",{staticClass:"ui active inline tiny loader"}):e._e()]):i("span",[i("i",{staticClass:"icon ban",attrs:{"aria-hidden":"true"}})])]):e._e()])},M=[],F=i("wd/R"),L=i.n(F),Y=(n=Object(D["a"])({name:"ConfigListItem",props:["item","emailEnabled"]}),n(s=function(e){function t(){return Object(S["a"])(this,t),Object(N["a"])(this,Object(P["a"])(t).apply(this,arguments))}return Object(x["a"])(t,[{key:"sendMail",value:function(){console.log("ConfigListItem.sendMail()",this.item),this.$store.dispatch("sendClientConfigEmail",this.item.id)}},{key:"relativeCreated",get:function(){return L()(this.item.created).fromNow()}},{key:"relativeValid",get:function(){return L()(this.item.validity_end).fromNow()}},{key:"isSending",get:function(){return this.$store.getters.isSendingClientConfigEmail(this.item.id)}},{key:"canSendEmail",get:function(){return this.$store.getters.canSendEmail(this.item.email)}}]),Object(E["a"])(t,e),t}(D["b"]))||s),I=Y,B=(i("iqkF"),i("KHd+")),K=Object(B["a"])(I,T,M,!1,null,"5b3ece32",null),X=K.exports,Q=(a=Object(D["a"])({name:"ConfigList",props:["items","title","emailEnabled"],components:{ConfigListItem:X}}),a(r=function(e){function t(){return Object(S["a"])(this,t),Object(N["a"])(this,Object(P["a"])(t).apply(this,arguments))}return Object(E["a"])(t,e),t}(D["b"]))||r),J=Q,H=(i("dgiE"),Object(B["a"])(J,q,U,!1,null,"68fd7cec",null)),W=H.exports,Z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("sui-modal",{attrs:{closable:!1},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[i("sui-modal-header",[e._v("New OpenVPN Server")]),i("sui-modal-content",[i("sui-container",[e.open?i("NewServerForm",{ref:"form",on:{formUpdated:e.onFormUpdated}}):e._e()],1)],1),i("sui-modal-actions",[i("sui-button",{attrs:{floated:"right",compact:"",positive:"",disabled:!e.isValid},on:{click:e.onAccept}},[e._v("OK")]),i("sui-button",{attrs:{floated:"right",compact:"",negative:""},on:{click:e.onReject}},[e._v("Cancel")])],1)],1)],1)},G=[],ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("Server Name")]),i("div",{staticClass:"ui left icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],attrs:{placeholder:"Ex. 'My Home Server'",type:"text"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),i("i",{staticClass:"server icon",attrs:{"aria-hidden":"true"}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"twelve wide field"},[i("label",[e._v("Server Host Address")]),i("div",{staticClass:"ui left icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.hostname,expression:"form.hostname"}],attrs:{placeholder:"Ex. myvpn.net or 192.168.1.1",type:"text"},domProps:{value:e.form.hostname},on:{input:function(t){t.target.composing||e.$set(e.form,"hostname",t.target.value)}}}),i("i",{staticClass:"server icon",attrs:{"aria-hidden":"true"}})])]),i("div",{staticClass:"four wide field"},[i("label",[e._v("Port")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.port,expression:"form.port"}],attrs:{min:"1",max:"65535",type:"number"},domProps:{value:e.form.port},on:{input:function(t){t.target.composing||e.$set(e.form,"port",t.target.value)}}})])]),i("div",{staticClass:"field"},[i("label",[e._v("Transport Protocol")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.form.protocol,expression:"form.protocol"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.form,"protocol",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"udp"}},[e._v("UDP")]),i("option",{attrs:{value:"tcp"}},[e._v("TCP")])])]),i("div",{staticClass:"field"},[i("label",[e._v("Internal VPN network (private IP range, CIDR notation)")]),i("div",{staticClass:"ui left icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.network,expression:"form.network"}],attrs:{placeholder:"Ex. 172.30.0.0/16",type:"text"},domProps:{value:e.form.network},on:{input:function(t){t.target.composing||e.$set(e.form,"network",t.target.value)}}}),i("i",{staticClass:"server icon",attrs:{"aria-hidden":"true"}})])])])},te=[],ie=i("yT7P"),ne=i("ta7f"),se={name:"NewServerForm",data:function(){return{open:!1,form:{name:"",hostname:"",port:1194,protocol:"udp",network:"172.30.0.0/16"}}},validations:{form:{name:{required:ne["required"]},hostname:{required:ne["required"]},port:{required:ne["required"]},protocol:{required:ne["required"]},network:{required:ne["required"]}}},computed:{isValid:function(){return!this.$v.$invalid},value:function(){return Object(ie["a"])({},this.form)}},mounted:function(){var e=this;this.$emit("formUpdated",this.isValid),this.$watch("isValid",function(){e.$emit("formUpdated",e.isValid)})}},ae=se,re=(i("/SkM"),Object(B["a"])(ae,ee,te,!1,null,"c027e8fa",null)),oe=re.exports,le=(o=Object(D["a"])({components:{NewServerForm:oe},data:function(){return{open:!1,isValid:!1}}}),o(l=function(e){function t(){return Object(S["a"])(this,t),Object(N["a"])(this,Object(P["a"])(t).apply(this,arguments))}return Object(x["a"])(t,[{key:"toggle",value:function(){this.open=!0}},{key:"onFormUpdated",value:function(e){console.log("NewServerDialog.onFormReadyChanged()",e),this.isValid=e}},{key:"onAccept",value:function(){this.$store.dispatch("addServer",this.$refs.form.value),this.open=!1}},{key:"onReject",value:function(){console.log("onReject()"),this.open=!1}}]),Object(E["a"])(t,e),t}(D["b"]))||l),ce=le,ue=(i("Daqr"),Object(B["a"])(ce,Z,G,!1,null,"09f7e228",null)),de=ue.exports,me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("sui-modal",{attrs:{closable:!1},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[i("sui-modal-header",[e._v("New OpenVPN Client")]),i("sui-modal-content",[i("sui-container",[e.open?i("NewClientForm",{ref:"form",on:{formUpdated:e.onFormUpdated}}):e._e()],1)],1),i("sui-modal-actions",[i("sui-button",{attrs:{floated:"right",compact:"",positive:"",disabled:!e.isValid},on:{click:e.onAccept}},[e._v("OK")]),i("sui-button",{attrs:{floated:"right",compact:"",negative:""},on:{click:e.onReject}},[e._v("Cancel")])],1)],1)],1)},ve=[],pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("Client Name")]),i("div",{staticClass:"ui left icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],attrs:{placeholder:"Ex. 'My Home Server'",type:"text"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),i("i",{staticClass:"server icon",attrs:{"aria-hidden":"true"}})])])])},fe=[],ge={name:"NewClientForm",data:function(){return{open:!1,form:{name:""}}},validations:{form:{name:{required:ne["required"]}}},computed:{isValid:function(){return!this.$v.$invalid},value:function(){return Object(ie["a"])({},this.form)}},mounted:function(){var e=this;this.$emit("formUpdated",this.isValid),this.$watch("isValid",function(){e.$emit("formUpdated",e.isValid)})}},he=ge,_e=(i("QK06"),Object(B["a"])(he,pe,fe,!1,null,"442ace14",null)),be=_e.exports,Ce=(c=Object(D["a"])({components:{NewClientForm:be},data:function(){return{open:!1,isValid:!1}}}),c(u=function(e){function t(){return Object(S["a"])(this,t),Object(N["a"])(this,Object(P["a"])(t).apply(this,arguments))}return Object(x["a"])(t,[{key:"toggle",value:function(){this.open=!0}},{key:"onFormUpdated",value:function(e){this.isValid=e}},{key:"onAccept",value:function(){this.$store.dispatch("addClient",this.$refs.form.value),this.open=!1}},{key:"onReject",value:function(){this.open=!1}}]),Object(E["a"])(t,e),t}(D["b"]))||u),je=Ce,ye=(i("TcDU"),Object(B["a"])(je,me,ve,!1,null,"50f036b1",null)),we=ye.exports,ke="clicked_add_client",Oe="clicked_add_server",$e=(d=Object(D["a"])({name:"Home",components:{NavigationBar:xt,ConfigList:W,NewServerDialog:de,NewClientDialog:we}}),d(m=function(e){function t(){var e;return Object(S["a"])(this,t),e=Object(N["a"])(this,Object(P["a"])(t).call(this)),e.onClickedAddClient=e.onClickedAddClient.bind(Object(z["a"])(Object(z["a"])(e))),e.onClickedAddServer=e.onClickedAddServer.bind(Object(z["a"])(Object(z["a"])(e))),e}return Object(x["a"])(t,[{key:"onClickedAddClient",value:function(){this.$refs.newClientDialog.open=!0}},{key:"onClickedAddServer",value:function(){this.$refs.newServerDialog.open=!0}},{key:"mounted",value:function(){this.$root.$on(ke,this.onClickedAddClient),this.$root.$on(Oe,this.onClickedAddServer)}},{key:"beforeDestroy",value:function(){this.$root.$off(ke,this.onClickedAddClient),this.$root.$off(Oe,this.onClickedAddServer)}},{key:"servers",get:function(){return this.$store.state.servers}},{key:"clients",get:function(){return this.$store.state.clients}},{key:"isSuperuser",get:function(){return this.$store.getters.isSuperuser}},{key:"emailEnabled",get:function(){return this.$store.state.settings.email_enabled}}]),Object(E["a"])(t,e),t}(D["b"]))||m),Se=$e,Ee=(i("39RD"),Object(B["a"])(Se,R,V,!1,null,null,null)),xe=Ee.exports,Ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"settings"},[i("div",{staticClass:"ui container text",staticStyle:{margin:"16px"}},[i("form",{staticClass:"ui form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[i("div",{staticClass:"ui fluid card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui checked checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.email_enabled,expression:"settings.email_enabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settings.email_enabled)?e._i(e.settings.email_enabled,null)>-1:e.settings.email_enabled},on:{change:function(t){var i=e.settings.email_enabled,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.settings,"email_enabled",i.concat([a])):r>-1&&e.$set(e.settings,"email_enabled",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.settings,"email_enabled",s)}}}),i("label",[e._v("Enable e-mail")])])]),e.settings.email_enabled?i("div",[i("div",{staticClass:"field"},[i("label",[e._v("From e-mail")]),i("div",{staticClass:"ui left icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.email_from,expression:"settings.email_from"}],key:"email_from",attrs:{placeholder:"From for automated e-mails sent by this system",type:"text"},domProps:{value:e.settings.email_from},on:{input:function(t){t.target.composing||e.$set(e.settings,"email_from",t.target.value)}}}),i("i",{staticClass:"user icon",attrs:{"aria-hidden":"true"}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"twelve wide field"},[i("label",[e._v("SMTP server (only with TLS support)")]),i("div",{staticClass:"ui left icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.email_smtp_server,expression:"settings.email_smtp_server"}],attrs:{placeholder:"Outgoing SMTP server",type:"text"},domProps:{value:e.settings.email_smtp_server},on:{input:function(t){t.target.composing||e.$set(e.settings,"email_smtp_server",t.target.value)}}}),i("i",{staticClass:"server icon",attrs:{"aria-hidden":"true"}})])]),i("div",{staticClass:"four wide field"},[i("label",[e._v("Port")]),i("div",{staticClass:"ui left icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.email_smtp_port,expression:"settings.email_smtp_port"}],attrs:{placeholder:"Outgoing SMTP server port",min:"1",max:"65535",type:"number"},domProps:{value:e.settings.email_smtp_port},on:{input:function(t){t.target.composing||e.$set(e.settings,"email_smtp_port",t.target.value)}}}),i("i",{staticClass:"lock icon",attrs:{"aria-hidden":"true"}})])])]),i("div",{staticClass:"field"},[i("label",[e._v("SMTP login")]),i("div",{staticClass:"ui left icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.email_smtp_login,expression:"settings.email_smtp_login"}],attrs:{placeholder:"Outgoing SMTP server login (e-mail address)",type:"text"},domProps:{value:e.settings.email_smtp_login},on:{input:function(t){t.target.composing||e.$set(e.settings,"email_smtp_login",t.target.value)}}}),i("i",{staticClass:"user icon",attrs:{"aria-hidden":"true"}})])]),i("div",{staticClass:"field"},[i("label",[e._v("SMTP password")]),i("div",{staticClass:"ui left icon input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.email_smtp_password,expression:"settings.email_smtp_password"}],attrs:{placeholder:"SMTP password is stored in database in plaintext",type:"password"},domProps:{value:e.settings.email_smtp_password},on:{input:function(t){t.target.composing||e.$set(e.settings,"email_smtp_password",t.target.value)}}}),i("i",{staticClass:"lock icon",attrs:{"aria-hidden":"true"}})])])]):e._e()])]),i("div",{staticClass:"ui fluid card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.registration_enabled,expression:"settings.registration_enabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settings.registration_enabled)?e._i(e.settings.registration_enabled,null)>-1:e.settings.registration_enabled},on:{change:function(t){var i=e.settings.registration_enabled,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.settings,"registration_enabled",i.concat([a])):r>-1&&e.$set(e.settings,"registration_enabled",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.settings,"registration_enabled",s)}}}),i("label",[e._v("New users registration")])])])])]),i("button",{staticClass:"ui button",attrs:{type:"submit",role:"button",disabled:!e.isValid},on:{submit:function(e){}}},[e._v("Submit")]),"error"===e.status?i("span",{staticClass:"ui red header"},[i("i",{staticClass:"times icon",attrs:{"aria-hidden":"true"}}),e._v(" Update failed")]):e._e(),"success"===e.status?i("span",{staticClass:"ui green header"},[i("i",{staticClass:"check icon",attrs:{"aria-hidden":"true"}}),e._v(" Settings updated")]):e._e()])])])},Pe=[],De=i("oyJW"),Ae=(i("91GP"),v=Object(D["a"])({name:"Settings",components:{NavigationBar:xt},validations:function(){var e={registration_enabled:{required:ne["required"]}};return this.settings.email_enabled&&Object.assign(e,{email_from:{required:ne["required"],email:ne["email"]},email_smtp_server:{required:ne["required"]},email_smtp_port:{required:ne["required"]},email_smtp_login:{required:ne["required"]},email_smtp_password:{required:ne["required"]}}),{settings:e}}}),v(p=function(e){function t(){var e,i,n;Object(S["a"])(this,t);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return Object(N["a"])(n,(i=n=Object(N["a"])(this,(e=Object(P["a"])(t)).call.apply(e,[this].concat(a))),Object(De["a"])(Object(z["a"])(Object(z["a"])(n)),"settings",{email_enabled:!1,email_from:"",email_smtp_server:"",email_smtp_port:465,email_smtp_login:"",email_smtp_password:"",registration_enabled:!1}),Object(De["a"])(Object(z["a"])(Object(z["a"])(n)),"status",null),i))}return Object(x["a"])(t,[{key:"handleSubmit",value:function(){this.$store.dispatch("setSettings",this.settings)}},{key:"onSuccess",value:function(){this.status="success"}},{key:"onError",value:function(){this.status="error"}},{key:"mounted",value:function(){this.settings=_.cloneDeep(this.$store.state.settings)}},{key:"isValid",get:function(){return!this.$v.$invalid}}]),Object(E["a"])(t,e),t}(D["b"]))||p),Re=Ae,Ve=Object(B["a"])(Re,Ne,Pe,!1,null,null,null),ze=Ve.exports,qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login top-space"},[i("div",{staticClass:"ui grid center aligned"},[e._m(0),i("div",{staticClass:"row"},[i("div",{staticClass:"six wide column left aligned"},[i("form",{staticClass:"ui form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[i("div",{staticClass:"field"},[i("label",[e._v("Login E-mail")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"login"}],attrs:{type:"email",name:"login",placeholder:"E-mail"},domProps:{value:e.login},on:{input:function(t){t.target.composing||(e.login=t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",{},[e._v("Password")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"Password (min 8 chars)"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),i("button",{staticClass:"ui button",attrs:{disabled:e.invalid}},[e._v("Login")])])])]),e.canRegister?i("div",{staticClass:"row center aligned"},[i("router-link",{attrs:{to:"/register"}},[e._v("Register")])],1):e._e(),e.error?i("div",{staticClass:"row center aligned"},[e._v("\n            Login failed\n        ")]):e._e()])])},Ue=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row center aligned"},[i("h1",{staticClass:"ui header green center aligned"},[e._v("Login"),i("br"),e._v("OpenVPN@Home")])])}],Te=(f=Object(D["a"])({components:{},validations:{login:{required:ne["required"]},password:{required:ne["required"],minLength:Object(ne["minLength"])(8)}}}),f(g=function(e){function t(){var e,i,n;Object(S["a"])(this,t);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return Object(N["a"])(n,(i=n=Object(N["a"])(this,(e=Object(P["a"])(t)).call.apply(e,[this].concat(a))),Object(De["a"])(Object(z["a"])(Object(z["a"])(n)),"login",""),Object(De["a"])(Object(z["a"])(Object(z["a"])(n)),"password",""),Object(De["a"])(Object(z["a"])(Object(z["a"])(n)),"error",!1),i))}return Object(x["a"])(t,[{key:"handleSubmit",value:function(){var e=this;this.$api.login(this.login,this.password,function(){e.$store.commit("login"),e.$store.dispatch("hydrate"),e.$router.push("/")},function(){e.error=!0})}},{key:"invalid",get:function(){return this.$v.$invalid}},{key:"canRegister",get:function(){return this.$store.getters.canRegister}}]),Object(E["a"])(t,e),t}(D["b"]))||g),Me=Te,Fe=(i("PJ70"),Object(B["a"])(Me,qe,Ue,!1,null,null,null)),Le=Fe.exports,Ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login top-space"},[i("div",{staticClass:"ui grid center aligned"},[e._m(0),i("div",{staticClass:"row"},[i("div",{staticClass:"six wide column left aligned"},[i("form",{staticClass:"ui form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[i("div",{staticClass:"field"},[i("label",[e._v("Registration E-mail")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"login"}],attrs:{type:"email",name:"login",placeholder:"E-mail"},domProps:{value:e.login},on:{input:function(t){t.target.composing||(e.login=t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",{},[e._v("Password")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"Password (min 8 chars)"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),i("button",{staticClass:"ui button",attrs:{disabled:e.invalid}},[e._v("Register")])])])]),i("div",{staticClass:"row center aligned"},[i("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1),e.error?i("div",{staticClass:"row center aligned"},[e._v("\n            Registration failed\n        ")]):e._e()])])},Ie=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row center aligned"},[i("h1",{staticClass:"ui header green center aligned"},[e._v("Register"),i("br"),e._v("OpenVPN@Home")])])}],Be=(h=Object(D["a"])({components:{},validations:{login:{required:ne["required"],email:ne["email"]},password:{required:ne["required"],minLength:Object(ne["minLength"])(8)}}}),h(b=function(e){function t(){var e,i,n;Object(S["a"])(this,t);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return Object(N["a"])(n,(i=n=Object(N["a"])(this,(e=Object(P["a"])(t)).call.apply(e,[this].concat(a))),Object(De["a"])(Object(z["a"])(Object(z["a"])(n)),"login",""),Object(De["a"])(Object(z["a"])(Object(z["a"])(n)),"password",""),Object(De["a"])(Object(z["a"])(Object(z["a"])(n)),"error",!1),i))}return Object(x["a"])(t,[{key:"handleSubmit",value:function(){var e=this;this.$api.register(this.login,this.password,function(){e.$store.commit("login"),e.$store.dispatch("hydrate"),e.$router.push("/")},function(){e.error=!0})}},{key:"invalid",get:function(){return this.$v.$invalid}}]),Object(E["a"])(t,e),t}(D["b"]))||b),Ke=Be,Xe=(i("D33K"),Object(B["a"])(Ke,Ye,Ie,!1,null,null,null)),Qe=Xe.exports,Je=(i("Z2Ku"),i("L9s1"),i("L2JU")),He=i("vDqi"),We=i.n(He),Ze=i("p46w"),Ge=i.n(Ze),et="/api/accounts/login/",tt="/api/accounts/register/",it="/api/accounts/user/",nt="/api/accounts/logout/",st="/api/openvpn/servers/",at="/api/openvpn/clients/",rt="/api/management/settings/",ot=function(){function e(){Object(S["a"])(this,e)}return Object(x["a"])(e,[{key:"login",value:function(e,t,i,n){this.client().post(et,{email:e,password:t}).then(function(e){i()},function(e){n()})}},{key:"register",value:function(e,t,i,n){this.client().post(tt,{email:e,password:t}).then(function(e){i()},function(e){n()})}},{key:"logout",value:function(e){this.client().get(nt).then(function(t){e()})}},{key:"getUser",value:function(e,t){this.client().get(it).then(function(t){return e(t.data)},function(e){return t()})}},{key:"getServers",value:function(e,t){this.client().get(st).then(function(t){e(t.data)},function(e){t()})}},{key:"addServer",value:function(e,t,i){this.client().post(st,e).then(function(e){return t(e.data)},function(e){return i()})}},{key:"getClients",value:function(e,t){this.client().get(at).then(function(t){e(t.data)},function(e){t()})}},{key:"addClient",value:function(e,t,i){this.client().post(at,e).then(function(e){return t(e.data)},function(e){return i()})}},{key:"getSettings",value:function(e,t){this.client().get(rt).then(function(t){e(t.data)},function(e){t()})}},{key:"setSettings",value:function(e,t,i){this.client().patch(rt,e).then(function(e){t()},function(e){i()})}},{key:"sendClientConfig",value:function(e,t,i){var n="/api/openvpn/clients/".concat(e,"/send/");this.client().post(n,{}).then(function(i){return t(e)},function(t){return i(e)})}},{key:"client",value:function(){var e=Ge.a.get("csrftoken");return We.a.create({headers:{"X-CSRFToken":e}})}}]),e}();function lt(e){e.prototype.$api=new ot(ht)}var ct=i("LvDl"),ut=i.n(ct);C["default"].use(Je["a"]);var dt=new ot,mt={user:{authenticated:window.django.authenticated,email:"",permissions:[],superuser:!1},servers:[],clients:[],status:{sendingClientConfigEmail:[],sendingServerConfigEmail:[],appNotReady:window.django.app_not_ready},settings:{email_enabled:window.django.email_enabled,registration_enabled:window.django.registration_enabled}},vt={canRegister:function(e){return e.settings.registration_enabled},hasServer:function(e){return e.servers.length>0},isAuthenticated:function(e){return e.user.authenticated},isSuperuser:function(e){return e.user.superuser},hasPermission:function(e){return function(t){return ut.a.includes(e.user.permissions,t)}},isSendingClientConfigEmail:function(e){return function(t){return ut.a.includes(e.status.sendingClientConfigEmail,t)}},email:function(e){return e.user.email},canSendEmail:function(e){var t=e.settings,i=e.user;return function(e){return t.email_enabled&&(e===i.email||i.superuser)}}},pt={login:function(e){e.user.authenticated=!0},logout:function(e){var t=ut.a.cloneDeep(mt);ut.a.assign(e,t)},loginError:function(e){e.auth.error="Error"},setUser:function(e,t){e.user.email=t.email,e.user.permissions=t.permissions,e.user.superuser=ut.a.includes(t.permissions,"superuser")},setServers:function(e,t){e.servers=t},addServer:function(e,t){e.servers.push(t)},setClients:function(e,t){e.clients=t},addClient:function(e,t){e.clients.push(t)},setSendingClientConfigEmail:function(e,t){e.status.sendingClientConfigEmail.push(t)},clearSendingClientConfigEmail:function(e,t){e.status.sendingClientConfigEmail=ut.a.filter(e.status.sendingClientConfigEmail,function(e){return e!==t})},setSettings:function(e,t){e.settings=t}},ft={hydrate:function(e){var t=e.dispatch;t("getSettings"),t("getUser"),t("getServers"),t("getClients")},getUser:function(e){var t=e.commit;dt.getUser(function(e){return t("setUser",e)},function(e){})},getServers:function(e){var t=e.commit;dt.getServers(function(e){return t("setServers",e)},function(e){})},getClients:function(e){var t=e.commit;dt.getClients(function(e){return t("setClients",e)},function(e){})},addServer:function(e,t){var i=e.commit;dt.addServer(t,function(e){return i("addServer",e)},function(e){})},addClient:function(e,t){var i=e.commit;dt.addClient(t,function(e){return i("addClient",e)},function(e){})},sendClientConfigEmail:function(e,t){var i=e.commit;i("setSendingClientConfigEmail",t),dt.sendClientConfig(t,function(e){return i("clearSendingClientConfigEmail",e)},function(e){return i("clearSendingClientConfigEmail",e)})},setSettings:function(e,t){var i=e.commit;dt.setSettings(t,function(e){return i("setSettings",t)},function(e){})},getSettings:function(e){var t=e.commit;dt.getSettings(function(e){return t("setSettings",e)},function(){})}},gt=new Je["a"].Store({state:ut.a.cloneDeep(mt),getters:vt,mutations:pt,actions:ft}),ht=gt;C["default"].use(A["a"]);var _t="login",bt="register",Ct="home",jt="settings",yt=new A["a"]({routes:[{path:"/",name:Ct,component:xe},{path:"/login",name:_t,component:Le,meta:{isPublic:!0,noNavbar:!0}},{path:"/register",name:bt,component:Qe,meta:{isPublic:!0,noNavbar:!0}},{path:"/settings",name:jt,component:ze}]});yt.beforeEach(function(e,t,i){var n=!ht.getters.isAuthenticated&&!e.meta.isPublic;n?i({path:"/login"}):i()});var wt,kt,Ot=yt,$t=(wt=Object(D["a"])({name:"NavigationBar",components:{NavigationBar:$t}}),wt(kt=function(e){function t(){return Object(S["a"])(this,t),Object(N["a"])(this,Object(P["a"])(t).apply(this,arguments))}return Object(x["a"])(t,[{key:"onClickedLogout",value:function(){this.$api.logout(this.onLogoutCompleted.bind(this))}},{key:"onClickedAddClient",value:function(){this.$root.$emit(ke)}},{key:"onClickedAddServer",value:function(){this.$root.$emit(Oe)}},{key:"onLogoutCompleted",value:function(){this.$store.commit("logout"),this.$router.push({path:"/login"})}},{key:"canAddServer",get:function(){return this.$route.name===Ct&&!this.$store.getters.hasServer}},{key:"canAddClient",get:function(){return this.$route.name===Ct&&this.$store.getters.hasServer}},{key:"isSuperuser",get:function(){return this.$store.getters.isSuperuser}},{key:"email",get:function(){return this.$store.state.user.email}}]),Object(E["a"])(t,e),t}(D["b"]))||kt),St=$t,Et=(i("PACW"),Object(B["a"])(St,O,$,!1,null,"6cd33a5d",null)),xt=Et.exports,Nt={components:{NavigationBar:xt},created:function(){this.$store.getters.isAuthenticated&&this.$store.dispatch("hydrate")},methods:{onClickedAddClient:function(){console.log("onClickedAddClient()",this),window.x=this},onClickedAddServer:function(){}}},Pt=Nt,Dt=(i("nNx0"),Object(B["a"])(Pt,w,k,!1,null,null,null)),At=Dt.exports,Rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui grid center aligned"},[e._m(0),e._m(1),i("div",{staticClass:"row"},[i("div",{staticClass:"ten wide column left aligned"},[i("div",{staticClass:"issue"},[e._v("\n                Default, sane config can be bootstrapped with a single command (must be run from "),i("span",{staticClass:"important"},[e._v("root")]),e._v(" account):\n                "),i("div",{staticClass:"example"},[e._v("\n                    # "+e._s(e.bootstrapSh)),i("br")]),e._v("\n                If you want to perform manual configuration, please follow the guide below. Don't forget\n                that "),i("span",{staticClass:"important"},[e._v("you need to restart the server")]),e._v(" to reload updated config.\n                "),i("span",{staticClass:"shell"},[e._v("bootstrap.sh")]),e._v(" will do it for you."),i("br"),i("br"),i("p",{staticClass:"note"},[e._v("\n                    For all below examples,\n                    "),i("span",{staticClass:"shell"},[e._v("${ROOT}")]),e._v(" equals to "),i("span",{staticClass:"shell"},[e._v(e._s(e.deploymentDir))]),e._v(",\n                    where the app is currently deployed.\n                ")])]),i("div",{staticClass:"issue"},[e.hasSettingsFile?i("div",[e._m(2),e._m(3)]):i("div",[e._m(4),e._m(5),e._m(6),e._v("\n                        You can also check "),i("span",{staticClass:"shell"},[e._v("./manage.py configure --help")]),e._v(" for details.\n                    "),i("p")])]),i("div",{staticClass:"issue"},[e.isEmailConfigured?i("div",[e._m(7),e.isEmailEnabled?i("p",[e._v("E-mail is "),i("span",{staticClass:"green bold"},[e._v("enabled")]),e._v(" and configured.")]):i("p",[e._v("E-mail is "),i("span",{staticClass:"red bold"},[e._v("disabled.")]),e._v(" You won't receive error logs nor you can send config files.")])]):i("div",[e._m(8),e._m(9),e._m(10),e._v("\n                        Your "),i("span",{staticClass:"shell"},[e._v("server_from")]),e._v(" should be set to a valid e-mail address. Many SMTP servers\n                        will refuse to send e-mail with bogus "),i("i",[e._v("From")]),e._v(" field. "),i("span",{staticClass:"important"},[e._v("You must restart the service to pick up new configuration.")]),i("p")])]),i("div",{staticClass:"issue"},[e.isConfigured?i("div",[e._m(11),i("p",[e._v("Settings file is reviewed and accepted.")])]):i("div",[e._m(12),e._m(13),e._m(14),i("p")])]),i("div",{staticClass:"issue"},[e.isDatabaseInitialized?i("div",[e._m(15),i("p",[e._v("\n                        Database is initialized and up-to-date.\n                    ")])]):i("div",[e._m(16),i("p",[e._v("\n                        Database must be initialized (migrated) before the app is usable. Use standard Django migration utility.\n                        ")]),i("div",{staticClass:"example"},[e._v("\n                            # ${ROOT}/backend/manage.py migrate\n                        ")]),i("p")])]),i("div",{staticClass:"issue"},[e.hasAdminUser?i("div",[e._m(17),i("p",[e._v("\n                        Admin user is configured, has properly set password and is activated.\n                    ")])]):i("div",[e._m(18),i("p",[e._v("\n                        Admin user is a must. You want to use your real e-mail address and sane password for this one.\n                        ")]),i("div",{staticClass:"example"},[e._v("\n                            # ${ROOT}/backend/manage.py set_admin my@email.com my-secret-password\n                        ")]),i("p")])])])])])},Vt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row center aligned"},[i("h1",[e._v("Welcome to OpenVPN@Home")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row center aligned"},[i("h3",[e._v("The app requires some configuration")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",[i("i",{staticClass:"green circular inverted check icon",attrs:{"aria-hidden":"true"}}),e._v(" Has settings file")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v("\n                        Configuration file "),i("span",{staticClass:"shell"},[e._v("settings.json")]),e._v(" is present in the deployment directory.\n                    ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",[i("i",{staticClass:"red circular inverted times icon",attrs:{"aria-hidden":"true"}}),e._v(" No settings file yet")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v("\n                        OpenVPN@Home is configured through a JSON "),i("span",{staticClass:"shell"},[e._v("settings.json")]),e._v(" file placed in deployment\n                        directory. File can be generated with a management command:\n                        ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"example"},[e._v("\n                            # ${ROOT}/backend/manage.py configure"),i("br"),e._v("\n                            cat settings.json\n                        ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",[i("i",{staticClass:"green circular inverted check icon",attrs:{"aria-hidden":"true"}}),e._v(" E-mail configured")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",[i("i",{staticClass:"red circular inverted times icon",attrs:{"aria-hidden":"true"}}),e._v(" You must configure e-mail")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v("\n                        E-mail is "),i("span",{staticClass:"green bold"},[e._v("enabled")]),e._v(" but not fully configured yet. If you don't want to use\n                        e-mail, set "),i("span",{staticClass:"shell"},[e._v("enabled")]),e._v(" to "),i("span",{staticClass:"shell"},[e._v("false")]),e._v(" and you can skip the configuration.\n                        Open "),i("span",{staticClass:"shell"},[e._v("settings.json")]),e._v(" and fill email related fields:\n                        ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"example"},[e._v("\n                            {"),i("br"),e._v("  ..."),i("br"),e._v('\n                                  "email": {'),i("br"),e._v('\n                                    "enabled": '),i("i",[e._v("true / false")]),e._v(","),i("br"),e._v('\n                                    "server_from": '),i("i",[e._v("e-mail showing in From:")]),e._v(","),i("br"),e._v('\n                                    "admin_emails": '),i("i",[e._v("[list of e-mails to send crash logs to]")]),i("br"),e._v('\n                                    "smtp": {'),i("br"),e._v('\n                                      "server": '),i("i",[e._v('"your.smtp.host"')]),e._v(","),i("br"),e._v('\n                                      "port": '),i("i",[e._v("TLS port")]),e._v(","),i("br"),e._v('\n                                      "user": '),i("i",[e._v("most likely your e-mail address")]),e._v(","),i("br"),e._v('\n                                      "password": '),i("i",[e._v("password")]),e._v(","),i("br"),e._v("\n                                    }"),i("br"),e._v("\n                              ..."),i("br"),e._v("}\n                        ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",[i("i",{staticClass:"green circular inverted check icon",attrs:{"aria-hidden":"true"}}),e._v(" Settings reviewed and accepted")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",[i("i",{staticClass:"red circular inverted times icon",attrs:{"aria-hidden":"true"}}),e._v(" You must review and accept settings first")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v("\n                        Settings file must be reviewed and accepted before proceeding. Open "),i("span",{staticClass:"shell"},[e._v("settings.json")]),e._v(" in\n                        your favorite editor and set "),i("span",{staticClass:"shell"},[e._v("configured")]),e._v(" flag to "),i("span",{staticClass:"shell"},[e._v("true")]),e._v(".\n                        Most interesting part is your "),i("span",{staticClass:"shell"},[e._v("database")]),e._v(" field.\n                        ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"example"},[e._v("\n                        {"),i("br"),e._v("  ..."),i("br"),e._v('  "configured": "true"'),i("br"),e._v('  "database": {...}'),i("br"),e._v("\n                      ..."),i("br"),e._v("}\n                        ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",[i("i",{staticClass:"green circular inverted check icon",attrs:{"aria-hidden":"true"}}),e._v(" Database is ready")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",[i("i",{staticClass:"red circular inverted times icon",attrs:{"aria-hidden":"true"}}),e._v(" Database is not initialized (migrated) yet")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",[i("i",{staticClass:"green circular inverted check icon",attrs:{"aria-hidden":"true"}}),e._v(" Admin user is configured")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",[i("i",{staticClass:"red circular inverted times icon",attrs:{"aria-hidden":"true"}}),e._v(" Admin user is not configured yet")])}],zt={computed:{hasSettingsFile:function(){return this.$store.state.status.appNotReady.has_settings_file},isConfigured:function(){return this.$store.state.status.appNotReady.is_configured&&this.hasSettingsFile},isDatabaseInitialized:function(){return this.$store.state.status.appNotReady.is_migrated},managePy:function(){return this.$store.state.status.appNotReady.manage_py},bootstrapSh:function(){return this.$store.state.status.appNotReady.bootstrap_sh},deploymentDir:function(){return this.$store.state.status.appNotReady.deployment_dir},hasAdminUser:function(){return this.$store.state.status.appNotReady.has_active_admin},isEmailConfigured:function(){return this.$store.state.status.appNotReady.is_email_configured},isEmailEnabled:function(){return this.$store.state.status.appNotReady.is_email_enabled}}},qt=zt,Ut=(i("zlmR"),Object(B["a"])(qt,Rt,Vt,!1,null,"e2ea3fc2",null)),Tt=Ut.exports,Mt=i("ktUv"),Ft=i.n(Mt);C["default"].config.productionTip=!1,C["default"].use(lt),C["default"].use(y.a),C["default"].use(Ft.a),ht.state.status.appNotReady?new C["default"]({store:ht,render:function(e){return e(Tt)}}).$mount("#app"):new C["default"]({router:Ot,store:ht,render:function(e){return e(At)}}).$mount("#app")},YoRC:function(e,t,i){},Yzlg:function(e,t,i){},boi5:function(e,t,i){},dgiE:function(e,t,i){"use strict";var n=i("jXXw"),s=i.n(n);s.a},dmFB:function(e,t,i){},emzx:function(e,t,i){},iqkF:function(e,t,i){"use strict";var n=i("KT1w"),s=i.n(n);s.a},jXXw:function(e,t,i){},lFxP:function(e,t,i){},nNx0:function(e,t,i){"use strict";var n=i("boi5"),s=i.n(n);s.a},uYVI:function(e,t,i){},zlmR:function(e,t,i){"use strict";var n=i("emzx"),s=i.n(n);s.a}});
//# sourceMappingURL=app.js.map